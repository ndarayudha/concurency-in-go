Code example from Book Concurrency in Go
